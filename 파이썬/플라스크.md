# 웹프레임워크
> 웹을 만들때 항상 하는 공통적인 작업을 쉽게할수있도록 만든 서비스
> 브라우저 입장에서는 html만 해석하면 된다. 무엇으로 만들어졌는지는 몰라도된다.
<종류>
JSP, Servlet, Spring, Laravel, Codeignitor, Ruby on rails, Express.js, Django, FastAPI, Flask

## 공부
[생활코딩 플라스크](https://www.youtube.com/playlist?list=PLuHgQVnccGMClNOIuT3b3M4YZjxmult2y)

## Django vs Flask
장고는 이미 구현이 많이 되어있어서 가져쓰기 쉽게 해놨다.
어떻게 구동되는지 원리를 이해할수 어려운것이 단점이고 몰라도 쓸수있는게 장점이다.
설계가 중요하다. 설계만 깔끔하면 매우 아름다운 프로젝트를 할 수 있지만 그런 프로젝트를 하기가 어렵다.
Flask는 Django의 핵심만 뽑은거라고 생각하면 된다. 뼈대만 있고 살을 붙여나가야한다. 자유도가 높다.
규모가 크면 플라스크 비추.
플라스크를 해보고 장고로 넘어가면 좋을것 같다.
장고는 코딩을 최대한 안하고도 할수있게 해주는 프레임워크이기 때문에.


## 라우팅
웹프레임워크가 하는 본질적인 일. 요청을 처리하는 법.
어떤 주소를 누가 담당할것인가를 연결하는 작업을 라우팅이라 한다.
**동적 라우팅** 하려면 태그처럼 꺾쇠에 넣고 그것이 파라미터명과 같게해주면 인자로 받는다.
@app.route('/user/<id>')
def read(id):
  print(id)
  return 데이터;

형변환
@app.route('/read/<int:id>')

render_template 함수는 2번째부터 딕셔너리 형태로 동적으로 전달 할 수 있다.



### 환경세팅
1. vscode의 터미널 키고 pip3 install flask
2. server.py파일 생성
3. https://bit.ly/flask-tutorials-setup
에서 소스 복붙
1. python3 server.py  명령어로 실행
2. flask는 디폴트가 5000번 포트. Address already in use 뜰때가 간혹 있을수 있다.
- 포트변경 : app.run(port=포트번호)
3. 로그에 뜬 주소 클릭하면 브라우저에 앱 뜬다.
- 소스고쳐도 바로 반영안된다. 이전에 돌던것을 ctrl c로 멈추고 다시 실행해야한다.
- 디버깅모드로 실행하는법  app.run(port=5001, debug=True)
  디버거모드에서는 저장하면 자동으로 재시작한다.


##### f string.  문자열을 변수와 같이 사용할때 쓰기 좋은것.  f따옴표. 중괄호안에 변수
f'<li><a href="/read/{topic["id"]}/">{topic["title"]}</a></li>'

### 온라인 개발환경
[Glitch](http://bit.ly/flask-glitch)


# 명령어로 함수 실행하는 법
	#set FLASK_APP=app.py(맥에서는 set대신 export) 후 flask init_db로 호출가능
	# echo %FLASK_APP%  로 확인가능. app.py가 나와야함 
	함수위에 @app.cli.command('init_db')   이런 어노테이션을 써야한다.
	flask --help  명령어를 쳐보면 등록된 함수가 보여야 한다.


# 홈페이지 구현
- 반복을 줄이며 함수화, 템플릿화
- requst.method
- request.form['네임']
- 전역변수로 선언된 변수로 사용해라고 하려면 변수호출할때 앞에 global 붙여주면 된다.
- return redirect(url_for())

# 수정화면
기본값 
def template(contents, content, id=None):
	contextUI = ''
	if id != None:
		contextUI = '''
		<li><a href="/update/{id}/">update</a></li>
		'''
	
	# 삭제
	삭제는 화면이 필요없다.
	